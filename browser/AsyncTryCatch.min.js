(function(e){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=e()}else if(typeof define==="function"&&define.amd){define([],e)}else{var t;if(typeof window!=="undefined"){t=window}else if(typeof global!=="undefined"){t=global}else if(typeof self!=="undefined"){t=self}else{t=this}t.AsyncTryCatch=e()}})(function(){var e,t,n;return function e(t,n,r){function o(i,c){if(!n[i]){if(!t[i]){var a=typeof require=="function"&&require;if(!c&&a)return a(i,!0);if(s)return s(i,!0);var p=new Error("Cannot find module '"+i+"'");throw p.code="MODULE_NOT_FOUND",p}var y=n[i]={exports:{}};t[i][0].call(y.exports,function(e){var n=t[i][1][e];return o(n?n:e)},y,y.exports,e,t,n,r)}return n[i].exports}var s=typeof require=="function"&&require;for(var i=0;i<r.length;i++)o(r[i]);return o}({1:[function(e,t,n){(function(n,r){"use strict";function o(){throw new Error("Use AsyncTryCatch.try() instead.")}t.exports=o;o.prototype.__prototypeUID__="async-try-catch/AsyncTryCatch";o.prototype.__prototypeVersion__=e("../package.json").version;if(r.AsyncTryCatch){if(r.AsyncTryCatch.prototype.__prototypeUID__==="async-try-catch/AsyncTryCatch"){var s=o.prototype.__prototypeVersion__.split(".");var i=r.AsyncTryCatch.prototype.__prototypeVersion__.split(".");if(i[0]!==s[0]||s[0]==="0"&&i[1]!==s[1]){throw new Error("Incompatible version of AsyncTryCatch already installed on global.AsyncTryCatch: "+r.AsyncTryCatch.prototype.__prototypeVersion__+", current version: "+o.prototype.__prototypeVersion__)}}else{throw new Error("Incompatible module already installed on global.AsyncTryCatch")}}else{r.AsyncTryCatch=o;r.AsyncTryCatch.stack=[];r.AsyncTryCatch.substituted=false;r.AsyncTryCatch.NextGenEvents=[]}if(n.browser&&!r.setImmediate){r.setImmediate=function e(t){return setTimeout(t,0)};r.clearImmediate=function e(t){return clearTimeout(t)}}if(!r.Vanilla){r.Vanilla={}}if(!r.Vanilla.setTimeout){r.Vanilla.setTimeout=setTimeout}if(!r.Vanilla.setImmediate){r.Vanilla.setImmediate=setImmediate}if(!r.Vanilla.nextTick){r.Vanilla.nextTick=n.nextTick}o.try=function e(t){var n=Object.create(o.prototype,{fn:{value:t,enumerable:true},parent:{value:r.AsyncTryCatch.stack[r.AsyncTryCatch.stack.length-1]}});return n};o.prototype.catch=function e(t){Object.defineProperties(this,{catchFn:{value:t,enumerable:true}});if(!r.AsyncTryCatch.substituted){o.substitute()}try{r.AsyncTryCatch.stack.push(this);this.fn();r.AsyncTryCatch.stack.pop()}catch(e){r.AsyncTryCatch.stack.pop();this.callCatchFn(e)}};o.prototype.callCatchFn=function e(t){if(!this.parent){this.catchFn(t);return}try{r.AsyncTryCatch.stack.push(this.parent);this.catchFn(t);r.AsyncTryCatch.stack.pop()}catch(e){r.AsyncTryCatch.stack.pop();this.parent.callCatchFn(e)}};o.timerWrapper=function e(t,n){var n,o,s,i=Array.prototype.slice.call(arguments,1);if(typeof n!=="function"||!r.AsyncTryCatch.stack.length){return t.apply(this,i)}o=r.AsyncTryCatch.stack[r.AsyncTryCatch.stack.length-1];s=function(){try{r.AsyncTryCatch.stack.push(o);return n.apply(this,arguments);r.AsyncTryCatch.stack.pop()}catch(e){r.AsyncTryCatch.stack.pop();o.callCatchFn(e)}};i[0]=s;return t.apply(this,i)};o.addListenerWrapper=function e(t,n,o,s){var o,i,c;if(typeof o==="object"){s=o;o=s.fn;delete s.fn}if(typeof o!=="function"||!r.AsyncTryCatch.stack.length){return t.call(this,n,o,s)}i=r.AsyncTryCatch.stack[r.AsyncTryCatch.stack.length-1];if(this.__fnToWrapperMap){c=this.__fnToWrapperMap.get(o)}else{Object.defineProperty(this,"__fnToWrapperMap",{value:new WeakMap})}if(!c){c=function(){try{r.AsyncTryCatch.stack.push(i);return o.apply(this,arguments);r.AsyncTryCatch.stack.pop()}catch(e){r.AsyncTryCatch.stack.pop();i.callCatchFn(e)}};this.__fnToWrapperMap.set(o,c)}return t.call(this,n,c,s)};o.setTimeout=o.timerWrapper.bind(undefined,r.Vanilla.setTimeout);o.setImmediate=o.timerWrapper.bind(undefined,r.Vanilla.setImmediate);o.nextTick=o.timerWrapper.bind(n,r.Vanilla.nextTick);o.addListener=function e(t,n){return o.addListenerWrapper.call(this,o.NodeEvents.__addListener,t,n)};o.addListenerOnce=function e(t,n){return o.addListenerWrapper.call(this,o.NodeEvents.__addListenerOnce,t,n)};o.removeListener=function e(t,n){if(typeof n==="function"&&this.__fnToWrapperMap){n=this.__fnToWrapperMap.get(n)||n}return o.NodeEvents.__removeListener.call(this,t,n)};o.ngevAddListener=function e(t,n,r){if(!r){r={}}if(r.id===undefined){r.id=n}return o.addListenerWrapper.call(this,o.NextGenEvents[this.asyncTryCatchId].on,t,n,r)};o.ngevAddListenerOnce=function e(t,n,r){if(!r){r={}}if(r.id===undefined){r.id=n}return o.addListenerWrapper.call(this,o.NextGenEvents[this.asyncTryCatchId].once,t,n,r)};o.ngevRemoveListener=function e(t,n){return o.NextGenEvents[this.asyncTryCatchId].off.call(this,t,n)};o.substitute=function t(){r.AsyncTryCatch.substituted=true;r.setTimeout=o.setTimeout;r.setImmediate=o.setTimeout;n.nextTick=o.nextTick;try{o.NodeEvents=r.EventEmitter||e("events")}catch(e){}if(o.NodeEvents){if(!o.NodeEvents.__addListener){o.NodeEvents.__addListener=o.NodeEvents.prototype.on}if(!o.NodeEvents.__addListenerOnce){o.NodeEvents.__addListenerOnce=o.NodeEvents.prototype.once}if(!o.NodeEvents.__removeListener){o.NodeEvents.__removeListener=o.NodeEvents.prototype.removeListener}o.NodeEvents.prototype.on=o.addListener;o.NodeEvents.prototype.addListener=o.addListener;o.NodeEvents.prototype.once=o.addListenerOnce;o.NodeEvents.prototype.removeListener=o.removeListener}for(var s=0;s<o.NextGenEvents.length;s++){o.NextGenEvents[s].prototype.on=o.ngevAddListener;o.NextGenEvents[s].prototype.addListener=o.ngevAddListener;o.NextGenEvents[s].prototype.once=o.ngevAddListenerOnce;o.NextGenEvents[s].prototype.off=o.ngevRemoveListener;o.NextGenEvents[s].prototype.removeListener=o.ngevRemoveListener}};o.restore=function e(){r.AsyncTryCatch.substituted=false;r.setTimeout=r.Vanilla.setTimeout;r.setImmediate=r.Vanilla.setImmediate;n.nextTick=r.Vanilla.nextTick;if(o.NodeEvents){o.NodeEvents.prototype.on=o.NodeEvents.__addListener;o.NodeEvents.prototype.addListener=o.NodeEvents.__addListener;o.NodeEvents.prototype.once=o.NodeEvents.__addListenerOnce;o.NodeEvents.prototype.removeListener=o.NodeEvents.__removeListener}for(var t=0;t<o.NextGenEvents.length;t++){o.NextGenEvents[t].prototype.on=o.NextGenEvents[t].on;o.NextGenEvents[t].prototype.addListener=o.NextGenEvents[t].on;o.NextGenEvents[t].prototype.once=o.NextGenEvents[t].once;o.NextGenEvents[t].prototype.off=o.NextGenEvents[t].off;o.NextGenEvents[t].prototype.removeListener=o.NextGenEvents[t].removeListener}}}).call(this,e("_process"),typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"../package.json":4,_process:3,events:2}],2:[function(e,t,n){},{}],3:[function(e,t,n){var r=t.exports={};var o;var s;function i(){throw new Error("setTimeout has not been defined")}function c(){throw new Error("clearTimeout has not been defined")}(function(){try{if(typeof setTimeout==="function"){o=setTimeout}else{o=i}}catch(e){o=i}try{if(typeof clearTimeout==="function"){s=clearTimeout}else{s=c}}catch(e){s=c}})();function a(e){if(o===setTimeout){return setTimeout(e,0)}if((o===i||!o)&&setTimeout){o=setTimeout;return setTimeout(e,0)}try{return o(e,0)}catch(t){try{return o.call(null,e,0)}catch(t){return o.call(this,e,0)}}}function p(e){if(s===clearTimeout){return clearTimeout(e)}if((s===c||!s)&&clearTimeout){s=clearTimeout;return clearTimeout(e)}try{return s(e)}catch(t){try{return s.call(null,e)}catch(t){return s.call(this,e)}}}var y=[];var u=false;var l;var d=-1;function f(){if(!u||!l){return}u=false;if(l.length){y=l.concat(y)}else{d=-1}if(y.length){h()}}function h(){if(u){return}var e=a(f);u=true;var t=y.length;while(t){l=y;y=[];while(++d<t){if(l){l[d].run()}}d=-1;t=y.length}l=null;u=false;p(e)}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1){for(var n=1;n<arguments.length;n++){t[n-1]=arguments[n]}}y.push(new v(e,t));if(y.length===1&&!u){a(h)}};function v(e,t){this.fun=e;this.array=t}v.prototype.run=function(){this.fun.apply(null,this.array)};r.title="browser";r.browser=true;r.env={};r.argv=[];r.version="";r.versions={};function m(){}r.on=m;r.addListener=m;r.once=m;r.off=m;r.removeListener=m;r.removeAllListeners=m;r.emit=m;r.binding=function(e){throw new Error("process.binding is not supported")};r.cwd=function(){return"/"};r.chdir=function(e){throw new Error("process.chdir is not supported")};r.umask=function(){return 0}},{}],4:[function(e,t,n){t.exports={name:"async-try-catch",version:"0.3.3",description:"Async try catch",main:"lib/AsyncTryCatch.js",directories:{test:"test"},dependencies:{},devDependencies:{browserify:"^13.1.0","expect.js":"^0.3.1",jshint:"^2.9.3",mocha:"^3.0.2","nextgen-events":"^0.9.7","uglify-js":"^2.7.3"},scripts:{test:"mocha -R dot"},repository:{type:"git",url:"https://github.com/cronvel/async-try-catch.git"},keywords:["async","try","catch"],author:"Cédric Ronvel",license:"MIT",bugs:{url:"https://github.com/cronvel/async-try-catch/issues"},copyright:{title:"Async Try-Catch",years:[2015,2016],owner:"Cédric Ronvel"}}},{}]},{},[1])(1)});